/* Modern SF-style color palette and typography */
:root {
    --primary-blue: #007AFF;
    --primary-blue-hover: #0056D6;
    --surface-primary: #FFFFFF;
    --surface-secondary: #F2F2F7;
    --surface-tertiary: #F8F9FA;
    --text-primary: #1D1D1F;
    --text-secondary: #86868B;
    --text-tertiary: #8E8E93;
    --border-light: #E5E5EA;
    --border-medium: #D1D1D6;
    --shadow-subtle: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
    --shadow-medium: 0 4px 6px rgba(0,0,0,0.05), 0 2px 4px rgba(0,0,0,0.06);
    --shadow-large: 0 10px 15px rgba(0,0,0,0.04), 0 4px 6px rgba(0,0,0,0.05);
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
}

body { background: var(--surface-tertiary); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Display', 'Helvetica Neue', sans-serif; margin:0; padding:0; color: var(--text-primary); line-height:1.5; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* Layout containers */
._dash-container { max-width:1200px; margin:0 auto; padding:24px; }
.header-container, .filter-container, .map-container { background: var(--surface-primary); border:1px solid var(--border-light); }
.header-container { border-radius: var(--radius-lg); padding:22px; margin-bottom:14px; box-shadow: var(--shadow-medium); display:flex; align-items:center; justify-content:space-between; gap:16px; }
/* Flex header helpers */
.header-meta { display:flex; flex-direction:column; gap:6px; flex:1 1 auto; min-width:0; }
.header-cta { margin:0; white-space:nowrap; font-size:1.08rem; font-weight:500; text-decoration: none;}
.filter-container { border-radius: var(--radius-lg); padding:20px 24px; margin-bottom:24px; box-shadow: var(--shadow-medium); }
.map-container { border-radius: var(--radius-xl); padding:16px; box-shadow: var(--shadow-large); overflow:hidden; }
.main-content { display:flex; flex-direction:row; gap:0; width:100%; }

/* Headings & text */
h1 { color: var(--text-primary); font-weight:700; font-size:2.5rem; margin:0 0 8px; letter-spacing:-0.5px; line-height:1.2; }
.subtitle { color: var(--text-secondary); font-size:1.1rem; margin:0 0 12px; font-weight:400; }
.popup-title, .resource-item-title { margin:0 0 8px; font-size:1.1rem; font-weight:600; color: var(--text-primary); }
.resource-item-title { margin-bottom:4px; font-size:1rem; }

/* Utility text styles */
.notes { color: var(--text-secondary); font-size:0.9rem; line-height:1.4; margin:0 0 8px; }
.notes--compact { line-height:1.3; }

/* Type badges */
.type-badges { margin-bottom:12px; display:flex; flex-wrap:wrap; gap:4px; }
.type-badge { background: var(--primary-blue); color:#fff; padding:2px 8px; border-radius:4px; font-size:0.7rem; font-weight:500; display:inline-block; letter-spacing:.25px; }

/* Filter pills */
.pill-container { display:flex; flex-wrap:wrap; gap:8px; flex:1; }
.filter-label { font-weight:600; color: var(--text-primary); font-size:0.95rem; white-space:nowrap; margin-top:8px; }
.filter-content { display:flex; align-items:flex-start; gap:16px; flex-wrap:wrap; }
.filter-pill { background: var(--surface-secondary); color: var(--text-secondary); border:1px solid var(--border-medium); border-radius:20px; padding:8px 16px; font-size:0.9rem; font-weight:500; cursor:pointer; font-family:inherit; outline:none; white-space:nowrap; transition:.2s; }
.filter-pill:hover { background: var(--surface-primary); border-color: var(--primary-blue); color: var(--text-primary); transform:translateY(-1px); box-shadow: var(--shadow-subtle); }
.filter-pill.active { background: var(--primary-blue); color:#fff; border-color: var(--primary-blue); box-shadow: var(--shadow-subtle); }
.filter-pill.active:hover { background: var(--primary-blue-hover); border-color: var(--primary-blue-hover); }

/* Map & leaflet */
.leaflet-container { border-radius: var(--radius-md); height:70vh !important; min-height:500px; }
.leaflet-popup-content-wrapper { border-radius: var(--radius-md) !important; box-shadow: var(--shadow-large) !important; border:1px solid var(--border-light) !important; }
.leaflet-popup-content { font-family:inherit !important; color: var(--text-primary) !important; line-height:1.5 !important; }

/* Popup & links */
.popup-content { min-width:250px; max-width:300px; }
.google-maps-link { display:inline-flex; align-items:center; gap:4px; padding:6px 12px; font-size:0.8rem; font-weight:500; border-radius:6px; text-decoration:none; background: var(--surface-secondary); color: var(--primary-blue); border:1px solid var(--border-medium); transition:.2s; box-shadow:none; }
.google-maps-link:hover { background: var(--primary-blue); color:#fff; border-color: var(--primary-blue); transform:translateY(-1px); box-shadow: var(--shadow-subtle); }
.google-maps-link--small { padding:4px 8px; font-size:0.7rem; border-radius:4px; }

/* Event links - distinct purple accent to differentiate from Google Maps (blue) */
.event-link { display:inline-flex; align-items:center; gap:6px; padding:6px 12px; font-size:0.8rem; font-weight:600; border-radius:999px; text-decoration:none; background:#F7F0FF; color:#6E3AFF; border:1px solid #E2D6FF; box-shadow:none; }
.event-link:hover { background:#6E3AFF; color:#fff; border-color:#6E3AFF; transform:translateY(-1px); box-shadow: var(--shadow-subtle); }
.event-link--small { padding:4px 10px; font-size:0.72rem; border-radius:999px; margin: 4px 0 6px; display:flex; width: fit-content; }

/* Ensure event link in popup is on its own line too */
.popup-content .event-link { display:flex; width: fit-content; margin-bottom:6px; }

/* Resource list */
.resource-list-container { flex:1; min-width:0; border-left:1px solid #eee; padding-left:24px; background:#fafbfc; }
.resource-list-scroll { overflow-y:auto; max-height:70vh; padding-right:8px; }
.resource-item { display:block; width:100%; text-align:left; background:transparent; border:none; padding:12px 0; border-bottom:1px solid #eee; cursor:default; }
.results-info { text-align:center; color: var(--text-secondary); margin-top:24px; font-size:0.9rem; }

/* Generic buttons / links (optional consolidation) */
.button, .filter-pill, .google-maps-link { -webkit-tap-highlight-color: transparent; }

/* Responsive */
@media (max-width:768px) {
  ._dash-container { padding:16px; }
  .header-container { padding:24px 20px; flex-direction:column; align-items:flex-start; gap:8px; }
  .header-cta { margin-top:4px; }
  h1 { font-size:2rem; }
  .filter-content { flex-direction:column; align-items:stretch; gap:12px; }
  .filter-label { text-align:left; margin-top:0; }
  .filter-pill { font-size:0.85rem; padding:6px 12px; }
  .leaflet-container { height:60vh !important; min-height:400px; }
  .main-content { flex-direction:column; }
  .resource-list-container { border-left:none; padding-left:0; }
}

/* Loading */
.loading { opacity:.7; pointer-events:none; }

/* Transitions */
* { transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease, color .2s ease; }
